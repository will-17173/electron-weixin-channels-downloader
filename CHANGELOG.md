# 更新日志

所有重要的项目变更都会记录在这个文件中。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，
并且本项目遵循 [语义化版本](https://semver.org/lang/zh-CN/)。

## [1.1.1] - 2025-06-12

### 🔧 代码重构
- **组件化改造**: 将原有1740行的大型App.vue组件拆分为6个功能明确的小组件
  - `VideoMonitor.vue`: 视频监控主组件
  - `VideoItem.vue`: 单个视频项组件
  - `CertificateManager.vue`: 证书管理组件
  - `ProxyManager.vue`: 代理服务器管理组件
  - `StatusIndicators.vue`: 状态指示器组件
  - `ActionButtons.vue`: 操作按钮组组件
- **提升可维护性**: 代码行数减少67%，组件职责分离更清晰
- **保持功能完整**: 重构后所有原有功能保持不变
- **改善开发体验**: 便于后续功能扩展和维护

### ✨ UI 优化
- **改进下载按钮设计**: 使用现代SVG图标替代emoji，提升视觉效果
- **更新取消下载按钮**: 用更好的SVG取消图标替代❌emoji，增加"取消"文字标签
- **优化用户体验**: 取消下载时无需确认弹窗，直接停止下载，响应更快
- **修复取消下载弹窗问题**: 取消下载时不再显示"下载失败: 下载已被取消"的错误提示

### 🎨 界面改进
- 下载按钮采用现代化的下载图标设计
- 取消按钮增加图标和文字的组合显示
- 优化按钮的视觉层次和交互反馈
- 提高文字可读性，字体大小从10px调整为12px
- 改善按钮尺寸和对齐方式

## [1.0.0] - 2025-06-12

### 🎉 首次正式发布

这是"爱下"微信视频号下载器的第一个正式版本！

### ✨ 新增功能
- **微信视频号下载**: 智能识别和下载微信视频号中的视频内容
- **智能代理系统**: 使用端口57392，自动配置系统代理
- **SSL证书管理**: 自动生成、安装和管理CA证书
- **系统代理自动清理**: 应用退出时自动清除系统代理配置，防止网络问题
- **Google Analytics 4集成**: GDPR合规的用户行为分析
- **跨平台支持**: 支持Windows、macOS、Linux

### 🔧 技术特性
- **Electron + Vue 3架构**: 现代化技术栈
- **HTTP MITM代理技术**: 安全的网络拦截和数据获取
- **智能脚本注入**: 自动检测和提取视频信息
- **自动网络配置**: 一键启动，无需手动配置
- **完善的错误处理**: 智能错误恢复和用户提示

### 🛡️ 安全改进
- **应用退出清理**: 支持正常退出和强制关闭的代理清理
- **信号处理**: 处理SIGINT、SIGTERM、SIGBREAK等系统信号
- **网络安全**: 防止代理配置残留导致的网络连接问题
- **证书安全**: 安全的证书生成和管理机制

### 📦 核心组件
- **主进程** (`src/main/`): Electron主进程，负责代理、证书、分析
- **渲染进程** (`src/renderer/`): Vue 3前端界面
- **预加载脚本** (`src/preload/`): 安全的IPC通信桥梁
- **证书管理** (`src/main/certificate/`): 跨平台证书管理系统
- **代理管理** (`src/main/proxy-manager.js`): 智能代理配置管理

### 📁 文档和配置
- **用户文档**: README.md, QUICK_START.md, FAQ.md
- **开发文档**: 完整的技术文档和API说明
- **配置模板**: Analytics配置模板和示例
- **部署脚本**: 自动化构建和发布脚本

### 🎯 使用场景
- 微信视频号内容创作者的作品备份
- 社交媒体管理和内容归档
- 视频素材收集和研究
- 个人视频内容保存

## [未发布]

### 计划新增
- [ ] 多语言支持 (英文、日文)
- [ ] 自定义下载规则
- [ ] 视频预览功能
- [ ] 批量管理工具

### 计划改进
- [ ] 性能优化
- [ ] UI/UX改进
- [ ] 错误处理增强
- [ ] 文档完善

## [1.0.0] - 2024-06-11

### 🎉 首次发布

这是爱下项目的首个正式版本，提供完整的微信视频号下载功能。

### ✨ 新增功能

#### 核心功能
- **视频监控**: 自动监控微信视频号页面，实时捕获视频数据
- **批量下载**: 支持多个视频同时下载，带进度显示和状态管理
- **智能代理**: 内置HTTP/HTTPS代理服务器，支持流量拦截和分析
- **证书管理**: 自动生成和管理SSL证书，确保HTTPS连接安全

#### 用户界面
- **现代化设计**: 基于Vue 3构建的响应式界面
- **实时状态**: 代理状态、下载进度、系统监控一目了然
- **操作便捷**: 直观的操作流程，支持拖拽、批量选择等交互
- **主题适配**: 支持浅色/深色主题自动切换

#### 技术特性
- **跨平台支持**: Windows、macOS、Linux全平台兼容
- **高性能**: 基于Electron 33+和Vue 3最新技术栈
- **安全可靠**: 本地处理，无数据上传，保护用户隐私
- **自动更新**: 内置更新机制，及时获取最新功能和修复

### 🛠️ 技术架构

- **前端框架**: Vue 3 + Composition API
- **桌面框架**: Electron 33.5.8
- **构建工具**: Vite + electron-vite
- **代理库**: http-mitm-proxy
- **打包工具**: electron-builder

### 📦 构建输出

- **Windows**:
  - `wxdown-setup-1.0.0.exe` (安装版)
  - `wxdown-1.0.0-portable.exe` (便携版)
- **macOS**:
  - `wxdown-1.0.0.dmg` (通用版本)
  - `wxdown-1.0.0-arm64.dmg` (Apple Silicon优化)
- **Linux**:
  - `wxdown-1.0.0.AppImage` (通用格式)
  - `wxdown_1.0.0_amd64.deb` (Debian/Ubuntu)
  - `wxdown-1.0.0.x86_64.rpm` (Red Hat/CentOS)

### 🔒 安全特性

- **本地处理**: 所有数据处理在本地完成，无隐私泄露风险
- **权限控制**: 遵循最小权限原则，仅请求必要权限
- **证书安全**: 使用自签名证书，仅用于本地代理
- **传输加密**: 支持端到端HTTPS加密连接

### 📋 系统要求

- **Windows**: Windows 10 或更高版本
- **macOS**: macOS 10.15 (Catalina) 或更高版本
- **Linux**: Ubuntu 18.04 或等效发行版
- **内存**: 最少4GB RAM
- **存储**: 最少500MB可用空间
- **网络**: 稳定的互联网连接

### 🎯 已知问题

#### Windows平台
- 首次运行需要管理员权限安装证书
- 部分杀毒软件可能误报代理功能

#### macOS平台
- 首次运行需要在"安全性与隐私"中允许
- Apple Silicon Mac需要使用Rosetta转译

#### Linux平台
- 某些发行版需要额外安装证书管理工具
- Wayland环境下可能存在兼容性问题

### 🔄 升级说明

这是首个正式版本，无需从之前版本升级。

### 🚨 重大变更

无重大变更（首次发布）。

### 📝 文档更新

- 完整的README.md文档
- 详细的贡献指南
- 安全政策说明
- 用户使用手册

---

## 版本命名规范

本项目采用 [语义化版本](https://semver.org/lang/zh-CN/) 规范：

- **主版本号**: 不兼容的API修改
- **次版本号**: 向下兼容的功能性新增
- **修订版本号**: 向下兼容的问题修正

### 版本类型说明

- **Alpha**: 内部测试版本，功能不完整
- **Beta**: 公开测试版本，功能基本完整
- **RC**: 发布候选版本，接近最终版本
- **Release**: 正式发布版本，生产环境可用

### 发布计划

#### v1.1.0 (计划中 - 2024年7月)
- [ ] 多语言界面支持
- [ ] 下载任务管理优化
- [ ] 新增视频格式支持
- [ ] 性能和稳定性改进

#### v1.2.0 (计划中 - 2024年8月)
- [ ] 自定义下载规则
- [ ] 视频预览功能
- [ ] 批量操作工具
- [ ] 云端配置同步

#### v2.0.0 (规划中 - 2024年Q4)
- [ ] 全新UI设计
- [ ] 插件系统支持
- [ ] 多平台内容支持
- [ ] 高级用户功能

### 变更类型

我们使用以下标签来分类变更：

- `✨ 新增功能` - 新功能和特性
- `🛠️ 功能改进` - 现有功能的改进和优化
- `🐛 问题修复` - 错误修复和问题解决
- `⚡ 性能优化` - 性能相关的改进
- `🔒 安全更新` - 安全相关的修复和改进
- `📝 文档更新` - 文档和注释的更新
- `🎨 界面优化` - UI/UX相关的改进
- `🧪 测试相关` - 测试代码和流程的改进
- `🔧 开发工具` - 构建工具和开发环境的改进
- `💥 重大变更` - 不兼容的重大变更

### 发布流程

1. **开发阶段**: 功能开发和测试
2. **预发布**: 创建RC版本进行最终测试
3. **发布准备**: 更新文档，准备发布说明
4. **正式发布**: 发布到GitHub Releases
5. **后续支持**: 处理用户反馈和问题修复

---

<div align="center">
  <p>
    <strong>📋 有问题或建议？</strong><br>
    <a href="https://github.com/will-17173/electron-weixin-channels-downloader/issues">提交Issue</a> |
    <a href="https://github.com/will-17173/electron-weixin-channels-downloader/discussions">参与讨论</a>
  </p>
  <p>
    <sub>由 WxDown 团队用 ❤️ 制作</sub>
  </p>
</div>
