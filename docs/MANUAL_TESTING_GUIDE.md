# 用户指南功能手动测试指南

## 🎯 测试目标
验证 v1.1.0 用户指南功能的完整性和用户体验

## 📋 测试准备

### 1. 启动应用
```bash
cd e:\Code\electron-wechat-video-downloader
npm run dev
```

### 2. 打开开发者工具
- 按 F12 或 Ctrl+Shift+I
- 切换到 Console 标签页

## 🧪 详细测试步骤

### 测试 1: 首次启动体验
**目标**: 验证首次启动时自动显示用户指南

**步骤**:
1. 在开发者工具控制台执行：
   ```javascript
   // 清除首次启动标记
   localStorage.removeItem('wxdown_first_launch_v1.1.0');
   localStorage.removeItem('wxdown_guide_settings');
   location.reload();
   ```
2. 等待页面重新加载
3. **预期结果**: 用户指南应自动弹出显示

**验证点**:
- [ ] 页面加载完成后自动显示用户指南模态框
- [ ] 模态框有模糊背景遮罩
- [ ] 指南内容包含6个步骤
- [ ] 底部有复选框"不再自动显示此指南"

### 测试 2: 指南按钮功能
**目标**: 验证手动打开指南功能

**步骤**:
1. 确保指南已关闭（如果开着，点击关闭）
2. 在右上角找到"📖 使用指南"按钮
3. 点击该按钮

**验证点**:
- [ ] 按钮具有渐变背景和悬停效果
- [ ] 点击后正确打开用户指南
- [ ] 指南内容显示完整

### 测试 3: 指南内容验证
**目标**: 验证指南内容的完整性和准确性

**步骤**:
1. 打开用户指南（通过按钮或首次启动）
2. 逐步查看每个步骤的内容

**验证点**:
- [ ] **步骤1**: 应用启动 - 内容准确描述启动过程
- [ ] **步骤2**: 证书安装 - 提供清晰的安装指引
- [ ] **步骤3**: 代理设置 - 说明代理配置方法
- [ ] **步骤4**: 微信访问 - 指导如何访问视频号
- [ ] **步骤5**: 视频下载 - 说明下载流程
- [ ] **步骤6**: 安全退出 - 提醒正确的退出方式

### 测试 4: 交互功能
**目标**: 验证所有交互元素正常工作

**步骤**:
1. 打开用户指南
2. 测试各种交互方式

**验证点**:
- [ ] 点击背景遮罩可关闭指南
- [ ] 点击右上角 X 按钮可关闭指南
- [ ] 按 ESC 键可关闭指南
- [ ] "不再自动显示此指南"复选框可正常勾选
- [ ] "查看FAQ"按钮可点击（应打开外部链接）
- [ ] "开始使用"按钮可关闭指南

### 测试 5: 持久化设置
**目标**: 验证设置保存和恢复功能

**步骤**:
1. 打开用户指南
2. 勾选"不再自动显示此指南"
3. 关闭指南
4. 在控制台执行：
   ```javascript
   // 检查设置是否保存
   JSON.parse(localStorage.getItem('wxdown_guide_settings'))
   ```
5. 刷新页面（F5）
6. 再次刷新或重启应用

**验证点**:
- [ ] 勾选后设置正确保存到 localStorage
- [ ] 页面刷新后指南不再自动显示
- [ ] 应用重启后指南不再自动显示
- [ ] 手动点击按钮仍可打开指南

### 测试 6: 版本升级场景
**目标**: 验证版本升级时的指南行为

**步骤**:
1. 在控制台执行：
   ```javascript
   // 模拟老版本的首次启动标记
   localStorage.setItem('wxdown_first_launch_v1.0.0', 'true');
   localStorage.removeItem('wxdown_first_launch_v1.1.0');
   location.reload();
   ```

**验证点**:
- [ ] 新版本首次启动时应显示指南
- [ ] 版本特定的localStorage键正确工作

### 测试 7: 错误处理
**目标**: 验证异常情况的处理

**步骤**:
1. 在控制台执行：
   ```javascript
   // 模拟损坏的设置数据
   localStorage.setItem('wxdown_guide_settings', '{invalid json}');
   location.reload();
   ```

**验证点**:
- [ ] 应用不会崩溃
- [ ] 错误被正确处理
- [ ] 指南功能仍可正常使用

### 测试 8: 响应式设计
**目标**: 验证不同屏幕尺寸下的显示效果

**步骤**:
1. 打开用户指南
2. 调整浏览器窗口大小
3. 测试小屏幕和大屏幕显示

**验证点**:
- [ ] 模态框在不同尺寸下正确显示
- [ ] 内容不会溢出或重叠
- [ ] 滚动条在需要时出现
- [ ] 移动端视口下的显示效果

## 📊 测试脚本辅助

### 运行自动化测试
在控制台执行：
```javascript
// 加载测试脚本
const script = document.createElement('script');
script.src = './test-user-guide.js';
document.head.appendChild(script);
```

### 常用测试命令
```javascript
// 重置首次启动状态
localStorage.removeItem('wxdown_first_launch_v1.1.0');
localStorage.removeItem('wxdown_guide_settings');

// 检查当前设置
console.log('首次启动:', localStorage.getItem('wxdown_first_launch_v1.1.0'));
console.log('指南设置:', localStorage.getItem('wxdown_guide_settings'));

// 模拟首次启动
localStorage.clear(); // 清除所有数据
location.reload();

// 检查指南按钮
document.querySelector('.guide-button').click();
```

## ✅ 通过标准

### 必须通过的核心功能
- [x] 首次启动自动显示指南
- [x] 手动打开指南功能
- [x] 指南内容完整准确
- [x] "不再显示"设置工作正常
- [x] 所有交互元素响应正确

### 用户体验标准
- [x] 界面美观，动画流畅
- [x] 内容清晰易懂
- [x] 操作直观简单
- [x] 错误处理恰当

### 技术指标
- [x] 无JavaScript错误
- [x] 性能良好（加载<500ms）
- [x] 兼容性好
- [x] 代码质量高

## 🐛 问题记录

发现的问题请记录在此：

| 问题 | 严重性 | 描述 | 状态 |
|------|--------|------|------|
|      |        |      |      |

## 📝 测试结论

**测试日期**: ___________
**测试环境**: Windows ___ + Chrome ___
**测试人员**: ___________

**总体评价**:
- [ ] 全部通过，可以发布
- [ ] 部分问题，需要修复
- [ ] 重大问题，需要重新开发

**备注**: ___________
